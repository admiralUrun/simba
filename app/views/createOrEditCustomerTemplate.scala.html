@import views.html.helper._
@import services.SimbaHTMLHelper._

@(title: String, formCall: Call,
        cF: Form[Customer],
        buttonLabel: String,
        submitCall: Call = routes.CustomerController.toCustomersListPage(""),
        xButton: Boolean = false)(implicit requestHeader: MessagesRequestHeader)

    @creteAnInput(keyInForm: String, label: String, layOutClass: String = "", showError: Boolean = false) = {
        @if(showError) {
            @inputText(cF(keyInForm), '_label -> label, '_help -> "", '_error -> "", '_class -> layOutClass)
        } else {
            @inputText(cF(keyInForm), '_label -> label, '_help -> "",'_class -> layOutClass, Symbol("class") -> "")
        }
    }

    @addressInput() = {
        <input>

    }

@main(title) {

    @form(formCall) {
        <fieldset>
            @CSRF.formField
            <div class="container-fluid row">
                @creteAnInput("firstName", "Ім'я *", "col1", showError("firstName", cF))
                @creteAnInput("lastName", "Прізвище", "offset col-auto")
            </div>

            <div class="container-fluid row">
                @creteAnInput("phone", "Телефон *", "colFirst", showError("phone", cF))
                @creteAnInput("phoneNote", "Нотатка Телефону", "offset col-auto")
            </div>

            <div class="container-fluid row">
                @creteAnInput("phone2", "Додатковий Телефон", "colFirst")
                @creteAnInput("phoneNote2", "Нотатка Дод. Телефону", "offset col-auto")
            </div>

            @creteAnInput("instagram", "Instagram")
            <div class="form-group">
                <label for="preferences">Надає перевагу</label>
                <textarea class="form-control" id="preferences" name="preferences" rows="3">@{
                    if (cF.value.isDefined) cF.value.head.preferences
                    else ""
                }</textarea>
            </div>
            <div class="form-group">
                <label for="note">Нотатка</label>
                <textarea class="form-control" id="notes" name="notes" rows="3">@insertNotes(cF.value)</textarea>
            </div>
        </fieldset>

        @addressInput()

        <div class="actions">
            <input type="submit" value="@buttonLabel" class="btn btn-primary"> Або
            <a href="@submitCall" class="btn">Скасувати</a>
        </div>
    }

    @if(xButton) {
        <div class="container-fluid">
            @form(routes.HomeController.importFromCVS()){
                @CSRF.formField
                <input type="submit" value="Додати купу" class="btn btn-danger">
            }
        </div>
    } else {}
}
